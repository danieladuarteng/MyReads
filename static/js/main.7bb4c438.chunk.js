(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(e,t,a){e.exports=a.p+"static/media/logo.1329049d.png"},18:function(e,t,a){e.exports=a.p+"static/media/add.75d390e5.svg"},21:function(e,t,a){e.exports=a(37)},28:function(e,t,a){},35:function(e,t,a){},37:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(15),l=a.n(o),i=a(39),s=a(12),c=a.n(s),u=a(16),h=a(5),m=a(6),f=a(8),d=a(7),b=a(9),p=a(40),g=a(13),k="https://reactnd-books-api.udacity.com",v=localStorage.token;v||(v=localStorage.token=Math.random().toString(36).substr(-8));var y={Accept:"application/json",Authorization:v},E=function(e,t){return fetch("".concat(k,"/books/").concat(e.id),{method:"PUT",headers:Object(g.a)({},y,{"Content-Type":"application/json"}),body:JSON.stringify({shelf:t})}).then(function(e){return e.json()})},S=function(e){return fetch("".concat(k,"/search"),{method:"POST",headers:Object(g.a)({},y,{"Content-Type":"application/json"}),body:JSON.stringify({query:e})}).then(function(e){return e.json()}).then(function(e){return e.books})},j=(a(28),a(38)),C=a(17),N=a.n(C),O=a(18),w=a.n(O),D=function(e){function t(){return Object(h.a)(this,t),Object(f.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e,t,a=this.props,n=a.onChange,o=a.shelf,l=a.title,i=this.props,s=i.imageLinks,c=i.book;return e="undefined"===typeof s?"":s.thumbnail,t="undefined"===typeof c.authors?"No authors":c.authors,r.a.createElement("div",{className:"book"},r.a.createElement("div",{className:"book-top"},r.a.createElement("div",{className:"book-cover",style:{width:128,height:193,backgroundImage:"url(".concat(e,")")}}),r.a.createElement("div",{className:"book-shelf-changer"},r.a.createElement("select",{value:o,onChange:n},r.a.createElement("option",{value:"move",disabled:!0},"Move to..."),r.a.createElement("option",{value:"currentlyReading"},"Currently Reading"),r.a.createElement("option",{value:"wantToRead"},"Want to Read"),r.a.createElement("option",{value:"read"},"Read"),r.a.createElement("option",{value:"none"},"None")))),r.a.createElement("div",{className:"book-title"},l),r.a.createElement("div",{className:"book-authors"},t))}}]),t}(r.a.Component),R=function(e){function t(){return Object(h.a)(this,t),Object(f.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.shelf,a=e.title,n=e.books,o=e.onChangeShelf;return r.a.createElement("div",{className:"list-books-content"},r.a.createElement("div",{className:"bookshelf"},r.a.createElement("h2",{className:"bookshelf-title"},a),r.a.createElement("ol",{className:"books-grid"},n.filter(function(e){return e.shelf===t}).map(function(e){return r.a.createElement("li",{key:e.id},r.a.createElement(D,{book:e,imageLinks:e.imageLinks,onChange:function(t){return o(t,e)},shelf:e.shelf,title:e.title}))}))))}}]),t}(r.a.Component),T=[{title:"Currently Reading",shelf:"currentlyReading"},{title:"Want To Read",shelf:"wantToRead"},{title:"Read",shelf:"read"}],M=function(e){var t=e.books,a=e.onChangeShelf;return r.a.createElement("div",{className:"list-books"},r.a.createElement("div",{className:"list-books-title"},r.a.createElement("img",{src:N.a,alt:"logo"}),r.a.createElement(j.a,{to:"/search",className:"link-new-books"},r.a.createElement("div",{className:"new-books"},r.a.createElement("img",{src:w.a,alt:"add"}),r.a.createElement("h1",null,"Search new books")))),T.map(function(e){return r.a.createElement(R,{key:e.title,books:t,title:e.title,shelf:e.shelf,onChangeShelf:a})}),r.a.createElement("footer",null,"Project Udacity My Reads - Developed by",r.a.createElement("a",{href:"https://github.com/danieladuarteng",alt:"GitHub of Daniela Duarte",target:"_blank",rel:"noopener noreferrer"},"Daniela Duarte - GitHub")))},P=a(19),A=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(f.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={query:"",result:[]},a.search=Object(P.debounce)(function(e){a.setState({query:e}),e.trim().length?S(e.trim()).then(function(e){var t=e.map(function(e){var t=a.props.books.find(function(t){return t.id===e.id});return e.shelf=t?t.shelf:"none",e});a.setState({result:t})}).catch(function(e){a.setState({result:[]})}):(console.log("Empty"),a.setState({result:[]}))},100),a.clearQuery=function(){a.setState({query:""})},a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e,t=this,a=this.props,n=a.onChangeShelf,o=a.books,l=this.state,i=l.query,s=l.result;return e=this.state.query?s.error?s.items:s:o.filter(function(e){return"none"!==e.shelf}),r.a.createElement("div",null,r.a.createElement("div",{className:"list-books"},r.a.createElement("div",{className:"list-books-title-search"},r.a.createElement("h1",null,"Search")),r.a.createElement("div",{className:"list-books-content"},r.a.createElement("div",null,r.a.createElement("div",{className:"search-books-bar"},r.a.createElement(j.a,{className:"close-search",to:"/"},"Close"),r.a.createElement("input",{className:"search-books-bar",type:"text",placeholder:"Search new books",value:i,onChange:function(e){return t.search(e.target.value)}})),!e.length&&r.a.createElement("div",{className:"message-error"},r.a.createElement("p",null,"We didn't find anything. Please try again with words:"),r.a.createElement("p",null,"   'Android', 'Art', 'Artificial Intelligence', 'Astronomy', 'Austen', 'Baseball', 'Basketball', 'Bhagat', 'Biography', 'Brief', 'Business', 'Camus', 'Cervantes', 'Christie', 'Classics', 'Comics', 'Cook', 'Cricket', 'Cycling', 'Desai', 'Design', 'Development', 'Digital Marketing', 'Drama', 'Drawing', 'Dumas', 'Education', 'Everything', 'Fantasy', 'Film', 'Finance', 'First', 'Fitness', 'Football', 'Future', 'Games', 'Gandhi', 'Homer', 'Horror', 'Hugo', 'Ibsen', 'Journey', 'Kafka', 'King', 'Lahiri', 'Larsson', 'Learn', 'Literary Fiction', 'Make', 'Manage', 'Marquez', 'Money', 'Mystery', 'Negotiate', 'Painting', 'Philosophy', 'Photography', 'Poetry', 'Production', 'Programming', 'React', 'Redux', 'River', 'Robotics', 'Rowling', 'Satire', 'Science Fiction', 'Shakespeare', 'Singh', 'Swimming', 'Tale', 'Thrun', 'Time', 'Tolstoy', 'Travel', 'Ultimate', 'Virtual Reality', 'Web Development', 'iOS'")),e.length!==o.length&&r.a.createElement("div",{className:"showing-contacts"},r.a.createElement("h2",null,"Now showing ",e.length),r.a.createElement("button",{onClick:this.clearQuery},"Show all")),r.a.createElement("div",{className:"bookshelf"},r.a.createElement("div",{className:"bookshelf-books"},r.a.createElement("ol",{className:"books-grid"},e&&e.map(function(e){return r.a.createElement("li",{key:e.id},r.a.createElement(D,{book:e,imageLinks:e.imageLinks,onChange:function(t){return n(t,e)},shelf:e.shelf,title:e.title}))}))))))),r.a.createElement("footer",null,"Project Udacity My Reads - Developed by",r.a.createElement("a",{href:"https://github.com/danieladuarteng",alt:"GitHub of Daniela Duarte",target:"_blank",rel:"noopener noreferrer"},"Daniela Duarte - GitHub")))}}]),t}(n.Component),F=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(f.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={books:[]},a.handleChangeShelf=function(e,t){var n=e.target.value;t.shelf=n,a.setState(function(e){E(t,n).then(function(r){t.shelf=n;var o=e.books.filter(function(e){return e.id!==t.id});o.push(t),a.setState({books:o})})})},a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(u.a)(c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(k,"/books"),{headers:y}).then(function(e){return e.json()}).then(function(e){return e.books});case 2:t=e.sent,this.setState({books:t});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"app"},r.a.createElement(p.a,{exact:!0,path:"/",e:!0,render:function(){return r.a.createElement(M,{books:e.state.books,onChangeShelf:e.handleChangeShelf})}}),r.a.createElement(p.a,{path:"/search",render:function(){return r.a.createElement(A,{books:e.state.books,onChangeShelf:e.handleChangeShelf})}}))}}]),t}(r.a.Component);a(35);l.a.render(r.a.createElement(i.a,null,r.a.createElement(F,null)),document.getElementById("root"))}},[[21,2,1]]]);
//# sourceMappingURL=main.7bb4c438.chunk.js.map